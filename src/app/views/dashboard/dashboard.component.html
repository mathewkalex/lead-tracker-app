<header style="display: block;background: #1F2228;" class="py-2">
    <nav class="w-100">
        <div class="d-flex justify-content-between">
            <div class="d-flex flex-row">
                <div class="text-white mx-4">Dashboard</div>
                <div class="text-white">Leads</div>
            </div>
            <div class="d-flex flex-row">
                <div class="form-group has-search">
                    <input type="text" class="form-control text-white" placeholder="Search"
                        style="background-color: #35383E;">
                </div>
                <button class="btn my-2 my-sm-0 onclick" style="margin-left: 10px;" type="submit">Add Leads</button>
            </div>
            <div class="d-flex flex-row">
                <div style="margin-right: 10px;" class="d-flex flex-row">
                    <img src="{{user?.image}}" alt="" style="border-radius: 27.5px;width: 40px;height: 40px; margin-right:10px">
                    <div class="text-white">{{user?.first_name}} {{user?.last_name}}</div>
                </div>
                <button class="btn" style="border-radius: 27.5px;
                background: #35383E;margin-right: 10px;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <g clip-path="url(#clip0_1_36)">
                            <path
                                d="M10.7493 14.9944H5.24927C4.52627 14.9944 3.67727 14.5044 3.31627 13.8784L0.566266 9.11636C0.199266 8.48036 0.199266 7.52036 0.566266 6.88386L3.31677 2.12186C3.67777 1.49586 4.52677 1.00586 5.24977 1.00586H10.7493C11.4723 1.00586 12.3213 1.49586 12.6823 2.12186L15.4323 6.88386C15.7993 7.51986 15.7993 8.47986 15.4323 9.11636L12.6818 13.8784C12.3213 14.5044 11.4718 14.9944 10.7493 14.9944ZM5.24927 2.00536C4.87677 2.00536 4.36827 2.29886 4.18227 2.62136L1.43177 7.38336C1.24577 7.70586 1.24577 8.29336 1.43177 8.61586L4.18177 13.3779C4.36827 13.7009 4.87677 13.9939 5.24877 13.9939H10.7493C11.1218 13.9939 11.6303 13.7004 11.8163 13.3779L14.5668 8.61586C14.7528 8.29336 14.7528 7.70586 14.5668 7.38336L11.8168 2.62136C11.6303 2.29836 11.1218 2.00536 10.7498 2.00536H5.24927ZM7.99927 10.9579C6.36777 10.9579 5.04077 9.63086 5.04077 7.99986C5.04077 6.36886 6.36777 5.04186 7.99927 5.04186C9.63077 5.04186 10.9578 6.36886 10.9578 7.99986C10.9578 9.63086 9.63077 10.9579 7.99927 10.9579ZM7.99927 6.04186C6.91927 6.04186 6.04077 6.92036 6.04077 7.99986C6.04077 9.07936 6.91927 9.95786 7.99927 9.95786C9.07927 9.95786 9.95777 9.07936 9.95777 7.99986C9.95777 6.92036 9.07927 6.04186 7.99927 6.04186Z"
                                fill="white" stroke="white" stroke-width="0.1" />
                        </g>
                        <defs>
                            <clipPath id="clip0_1_36">
                                <rect width="16" height="16" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                </button>
                <button class="btn" style="border-radius: 27.5px;
                background: #35383E;margin-right: 10px;" (click)="logout()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path
                            d="M10.2167 10.85C10.0944 10.7056 10.0333 10.5416 10.0333 10.358C10.0333 10.1749 10.0944 10.0222 10.2167 9.9L11.45 8.66667H6.66667C6.47778 8.66667 6.31956 8.60267 6.192 8.47467C6.064 8.34711 6 8.18889 6 8C6 7.81111 6.064 7.65267 6.192 7.52467C6.31956 7.39711 6.47778 7.33333 6.66667 7.33333H11.45L10.2167 6.1C10.0833 5.96667 10.0167 5.80844 10.0167 5.62533C10.0167 5.44178 10.0833 5.28333 10.2167 5.15C10.3389 5.01667 10.4918 4.95 10.6753 4.95C10.8584 4.95 11.0111 5.01111 11.1333 5.13333L13.5333 7.53333C13.6 7.6 13.6473 7.67222 13.6753 7.75C13.7029 7.82778 13.7167 7.91111 13.7167 8C13.7167 8.08889 13.7029 8.17222 13.6753 8.25C13.6473 8.32778 13.6 8.4 13.5333 8.46667L11.1333 10.8667C10.9889 11.0111 10.8307 11.0749 10.6587 11.058C10.4862 11.0416 10.3389 10.9722 10.2167 10.85ZM3.33333 14C2.96667 14 2.65267 13.8696 2.39133 13.6087C2.13044 13.3473 2 13.0333 2 12.6667V3.33333C2 2.96667 2.13044 2.65267 2.39133 2.39133C2.65267 2.13044 2.96667 2 3.33333 2H7.33333C7.52222 2 7.68067 2.06378 7.80867 2.19133C7.93622 2.31933 8 2.47778 8 2.66667C8 2.85556 7.93622 3.01378 7.80867 3.14133C7.68067 3.26933 7.52222 3.33333 7.33333 3.33333H3.33333V12.6667H7.33333C7.52222 12.6667 7.68067 12.7307 7.80867 12.8587C7.93622 12.9862 8 13.1444 8 13.3333C8 13.5222 7.93622 13.6804 7.80867 13.808C7.68067 13.936 7.52222 14 7.33333 14H3.33333Z"
                            fill="white" />
                    </svg>
                </button>
            </div>
        </div>
    </nav>
</header>
<div class="px-5 pt-4" style="height: 100%;background: #F8FAFB;;">
    <div style="color: #000;
    font-family: Urbanist;
    font-size: 30px;
    font-style: normal;
    font-weight: 700;
    line-height: normal;">Welcome to Lead tracker!</div>
    <div class="d-flex flex-row my-4">
        <button class="btn my-2 my-sm-0 mr-2 btn-outline-dark" [ngClass]="{onclick: presentStatus == 'active'}"
            type="button" (click)="changeStatus('active')">Active ({{activeNumber}})</button>
        <button class="btn my-2 my-sm-0 mr-2 btn-outline-dark" [ngClass]="{onclick: presentStatus == 'won'}"
            type="button" (click)="changeStatus('won')">Won ({{wonNumber}})</button>
        <button class="btn my-2 my-sm-0 btn-outline-dark" [ngClass]="{onclick: presentStatus == 'lost'}" type="button"
            (click)="changeStatus('lost')">Lost ({{lostNumber}})</button>
    </div>
    <div class="row">
        <div class="col">
            <div style="font-size: 18px;font-weight: 600;" class="mb-2">Probabilities</div>
            <ul class="skill-list" style="padding: 0;">
                <li class="skill">
                    <div class="words row">
                        <div class="col text-black">{{probabilities?.high_percent}}% High probability to win</div>
                        <div class="col text-black" style="text-align: right;">{{probabilities?.high_count}} Leads</div>
                    </div>
                    <progress class="skill-1" max="100" value="{{probabilities?.high_percent}}"
                        style=" background-color: #FFFFFF;">
                    </progress>
                </li>
                <li class="skill">
                    <div class="words row">
                        <div class="col text-black">{{probabilities?.medium_percent}}% Medium probability to win</div>
                        <div class="col text-black" style="text-align: right;">{{probabilities?.medium_count}} Leads
                        </div>
                    </div>
                    <progress class="skill-2" max="100" value="{{probabilities?.medium_percent}}">
                    </progress>
                </li>
                <li class="skill">
                    <div class="words row">
                        <div class="col text-black">{{probabilities?.low_percent}}% Low probability to win</div>
                        <div class="col text-black" style="text-align: right;">{{probabilities?.low_count}} Leads</div>
                    </div>
                    <progress class="skill-3" max="100" value="{{probabilities?.low_percent}}">
                    </progress>
                </li>
            </ul>
        </div>
        <div class="col">
            <div style="font-size: 18px;font-weight: 600;">Graph</div>
            <div>
                <div style="display: block">
                    <canvas id="MyChart">{{chart}}</canvas>
                </div>
            </div>
        </div>
    </div>
    <div *ngIf="presentStatus == 'active'">
        <div style="font-size: 18px;font-weight: 600;" class="mb-2">Active leads status</div>
        <div class="row">
            <div class="col-md-6 col-sm-12 col-lg-3 grid" *ngFor="let active of activeLeads?.results">
                <div class="flex p-8 shadow rounded-lg status">
                    <div class="d-flex flex-column mx-4 status">
                        <div style="font-size: 18px;font-weight: 500;">{{active?.name}}</div>
                        <div style="font-size: 24px;font-weight: 700;">{{active?.lead_count}}</div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div>
        <div class="mb-2">
            <div style="font-size: 18px;font-weight: 600;">Recently active leads</div>
        </div>
        <div>
            <div class="row p-3 shadow">
                <div class="col">Lead name</div>
                <div class="col">Date added</div>
                <div class="col">Current state</div>
                <div class="col">Probability</div>
                <div class="col">Team size</div>
                <div class="col">Location</div>
                <div class="col">Revenue</div>
                <div class="col">Catogory</div>
            </div>
            <div class="mb-3">
                <ng-container *ngFor="let item of leadsList?.results; let i = index">
                    <div class="row p-3 shadow" *ngIf="i < totalLeads">
                        <div class="col">{{item?.name}}</div>
                        <div class="col">{{item?.created_on | date:'dd MMM yyyy'}}</div>
                        <div class="col">{{item?.current_stage?.name}}</div>
                        <div class="col">Probability</div>
                        <div class="col">{{item?.organization?.team_size}}</div>
                        <div class="col">{{item?.organization?.country}}</div>
                        <div class="col">{{item?.organization?.revenue}}</div>
                        <div class="col">{{item?.category?.name}}</div>
                    </div>
                </ng-container>
            </div>
            <ng-container *ngIf="totalLeads != leadsList?.count">
                <div class="col-md-12 text-center mb-3">
                    <button class="btn my-2 my-sm-0 onclick" style="margin-left: 10px;" type="submit" (click)="viewAll()">View all</button>
                </div>
            </ng-container>
        </div>
    </div>
</div>